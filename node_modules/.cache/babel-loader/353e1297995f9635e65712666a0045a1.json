{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js!/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/RequestList/_components/RequestListItemDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/RequestList/_components/RequestListItemDetail.vue","mtime":1660723455655},{"path":"/Users/jiwon/test/matching-frontend/babel.config.js","mtime":1660723455491},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICdAL3N0b3JlL3VzZXJTdGF0ZSc7CmltcG9ydCB7IGxvYWRVc2VyIH0gZnJvbSAnQC93b3JrZXIvdXNlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVxdWVzdExpc3RJdGVtRGV0YWlsIiwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZUFwcFN0b3JlKCk7CiAgICByZXR1cm4gewogICAgICBzdG9yZQogICAgfTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgY2FyZFR5cGU6ICLsiJjrnb0iLAogICAgICBpdGVtczogW10sCiAgICAgIG15RGF0YTogW10sCiAgICAgIHRpdGxlOiBbdGhpcy5nZXRUeXBlKHRoaXMuY29udGVudHMuYWN0aXZlRmxhZyksICLrgpjsnbQiLCAi7KeB7JeFIiwgIuyjvOyGjCJdLAogICAgICBtYXRjaDogW10KICAgIH07CiAgfSwKCiAgcHJvcHM6IHsKICAgIGNvbnRlbnRzOiBPYmplY3QsCiAgICB0YWI6IEJvb2xlYW4KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFR5cGUoZmxhZykgewogICAgICBpZiAoZmxhZyA9PSAiMCIpIHsKICAgICAgICByZXR1cm4gIuyalOyyrSDsi5zqsIQiOwogICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gIjEiKSB7CiAgICAgICAgcmV0dXJuICLrp6Tsua0g7Iuc6rCEIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIuyiheujjCDsi5zqsIQiOwogICAgICB9CiAgICB9LAoKICAgIG1ha2VEYXRlKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUuc2xpY2UoMCwgNCkgKyAiLyIgKyBkYXRlLnNsaWNlKDQsIDYpICsgIi8iICsgZGF0ZS5zbGljZSg2LCA4KSArICIgIiArIGRhdGUuc2xpY2UoOCwgMTApICsgIjoiICsgZGF0ZS5zbGljZSgxMCwgMTIpICsgIjoiICsgZGF0ZS5zbGljZSgxMiwgMTQpOwogICAgfSwKCiAgICBiZWZvcmVBY2NlcHQoKSB7CiAgICAgIHRoaXMuY2FyZFR5cGUgPSAi7IiY6529IjsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICBhY2NlcHQoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMubWF0Y2ggPSB7CiAgICAgICAgYWN0aXZlRmxhZzogIjEiLAogICAgICAgIGNyZWF0ZWREYXRlOiBkYXlqcygpLmZvcm1hdCgiWVlZWU1NRERISG1tc3MiKSwKICAgICAgICBzZW5kZXI6IHRoaXMuY29udGVudHMudXNlcklkLAogICAgICAgIHJlY2VpdmVyOiB0aGlzLnN0b3JlLnVzZXIudXNlcklkCiAgICAgIH07CiAgICAgIHRoaXMuJGF4aW9zLnB1dChgaHR0cDovL21hdGNoaW5nLjE2OS41Ni4xMDAuMTA0Lm5pcC5pby9tYXRjaC9tYXRjaGluZy9hY2NlcHRgLCB0aGlzLm1hdGNoKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmdldFVzZXIoKTsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0VXNlcigpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGBodHRwOi8vbWF0Y2hpbmcuMTY5LjU2LjEwMC4xMDQubmlwLmlvL21hdGNoL3VzZXIvJHt0aGlzLmNvbnRlbnRzLnVzZXJJZH1gKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBsZXQgc2VuZGVyVXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgc2VuZGVyVXNlci5tYXRjaENvdW50ID0gc2VuZGVyVXNlci5tYXRjaENvdW50ICsgMTsKICAgICAgICB0aGlzLnNldENvdW50KHNlbmRlclVzZXIpOwogICAgICB9KTsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGBodHRwOi8vbWF0Y2hpbmcuMTY5LjU2LjEwMC4xMDQubmlwLmlvL21hdGNoL3VzZXIvJHt0aGlzLnN0b3JlLnVzZXIudXNlcklkfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGxldCByZWNlaXZlclVzZXIgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHJlY2VpdmVyVXNlci5tYXRjaENvdW50ID0gcmVjZWl2ZXJVc2VyLm1hdGNoQ291bnQgKyAxOwogICAgICAgIHRoaXMuc2V0Q291bnQocmVjZWl2ZXJVc2VyKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNldENvdW50KHVzZXIpIHsKICAgICAgdGhpcy4kYXhpb3MucHV0KGBodHRwOi8vbWF0Y2hpbmcuMTY5LjU2LjEwMC4xMDQubmlwLmlvL21hdGNoL3VzZXJgLCB1c2VyKS50aGVuKHJlc3BvbnNlID0+IHt9KTsKICAgIH0sCgogICAgYmVmb3JlUmVqZWN0KCkgewogICAgICB0aGlzLmNhcmRUeXBlID0gIuqxsOygiCI7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgcmVqZWN0KCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLm1hdGNoID0gewogICAgICAgIGFjdGl2ZUZsYWc6ICIyIiwKICAgICAgICBjcmVhdGVkRGF0ZTogZGF5anMoKS5mb3JtYXQoIllZWVlNTURESEhtbXNzIiksCiAgICAgICAgc2VuZGVyOiB0aGlzLmNvbnRlbnRzLnVzZXJJZCwKICAgICAgICByZWNlaXZlcjogdGhpcy5zdG9yZS51c2VyLnVzZXJJZAogICAgICB9OwogICAgICB0aGlzLiRheGlvcy5wdXQoYGh0dHA6Ly9tYXRjaGluZy4xNjkuNTYuMTAwLjEwNC5uaXAuaW8vbWF0Y2gvbWF0Y2hpbmcvcmVqZWN0YCwgdGhpcy5tYXRjaCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRheGlvcy5nZXQoYGh0dHA6Ly9tYXRjaGluZy4xNjkuNTYuMTAwLjEwNC5uaXAuaW8vbWF0Y2gvdXNlci9teWRhdGEvJHt0aGlzLmNvbnRlbnRzLnVzZXJJZH1gKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5teURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICB0aGlzLml0ZW1zID0gewogICAgICAgIGNyZWF0ZWREYXRlOiB0aGlzLm1ha2VEYXRlKHRoaXMuY29udGVudHMuY3JlYXRlZERhdGUpLAogICAgICAgIGFnZTogdGhpcy5teURhdGEuYWdlICsgIuyEuCIsCiAgICAgICAgam9iOiB0aGlzLmNvbnRlbnRzLmpvYiwKICAgICAgICBhZGRyZXNzOiB0aGlzLm15RGF0YS5hZGRyZXNzCiAgICAgIH07CiAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgfSk7CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGxvYWRVc2VyKHRoaXMuJHVzZXJJZCk7CiAgfQoKfTs="},{"version":3,"mappings":"AA4DA;AACA;AACA;AAEA;EACAA,6BADA;;EAEAC;IACA;IACA;MAAAC;IAAA;EACA,CALA;;EAMAC;IACA;MACAC,aADA;MAEAC,cAFA;MAGAC,SAHA;MAIAC,UAJA;MAKAC,iEALA;MAMAC;IANA;EAQA,CAfA;;EAgBAC;IACAC,gBADA;IAEAC;EAFA,CAhBA;EAoBAC;IACAC;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CATA;;IAUAC;MACA;IACA,CAZA;;IAaAC;MACA;MACA;IACA,CAhBA;;IAiBAC;MACA;MACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACA,2FACAC,IADA,CACA;QACA;QACA;MACA,CAJA,EAIAC,KAJA,CAIAC;QACAC;MACA,CANA;IAOA,CA3BA;;IA4BAC;MACA,4FACAJ,IADA,CACAK;QACA;QACAC;QACA;MACA,CALA;MAOA,8FACAN,IADA,CACAK;QACA;QACAE;QACA;MACA,CALA;IAOA,CA3CA;;IA4CAC;MACA,0EACAR,IADA,CACAK,aACA,CAFA;IAGA,CAhDA;;IAiDAI;MACA;MACA;IACA,CApDA;;IAqDAC;MACA;MACA;QAAAd;QAAAC;QAAAC;QAAAC;MAAA;MACA,2FACAC,IADA,CACA;QACA;MACA,CAHA,EAGAC,KAHA,CAGAC;QACAC;MACA,CALA;IAMA;;EA9DA,CApBA;;EAoFAQ;IACA,mGACAX,IADA,CACAK;MACA;MACA;QACAR,qDADA;QAEAe,0BAFA;QAGAC,sBAHA;QAIAC;MAJA;IAMA,CATA,EASAb,KATA,CASAC;MACAC;IACA,CAXA;EAYA,CAjGA;;EAkGAY;IACAC;EACA;;AApGA","names":["name","setup","store","data","dialog","cardType","items","myData","title","match","props","contents","tab","methods","getType","makeDate","beforeAccept","accept","activeFlag","createdDate","sender","receiver","then","catch","err","console","getUser","response","senderUser","receiverUser","setCount","beforeReject","reject","mounted","age","job","address","created","loadUser"],"sourceRoot":"src/components/RequestList/_components","sources":["RequestListItemDetail.vue"],"sourcesContent":["<template>\n  <dl style=\"border-top:1px solid gray; margin-bottom:10px;\">\n    <div\n      class=\"pair\"\n      v-for=\"(item, key, index) in items\"\n      :key=\"index\"\n    > \n    <div class=\"ml-5\"><span style=\"font-weight:bold\">{{title[index]}}</span> {{item}}</div>\n    </div>\n    <v-row class=\"pair\" style=\"display:flex; justify-content: center;\" v-if=\"this.contents.activeFlag=='0' && tab == false\">\n      <v-btn text rounded small dark style=\"background-color:#8452f7\" class=\"mr-5\" @click=\"beforeAccept()\">수락</v-btn>\n      <v-btn text rounded small dark style=\"background-color:#8452f7\" @click=\"beforeReject()\">거절</v-btn>\n    </v-row>\n\n\n    <v-row justify=\"center\">\n    <v-dialog\n      v-model=\"this.dialog\"\n      persistent\n      max-width=\"290\"\n    >\n      <v-card>\n        <v-card-title >\n          요청을 {{cardType}}하시겠습니까?\n        </v-card-title>\n        <v-card-text></v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            v-if=\"cardType=='수락'\"\n            color=\"#5f3dc4\"\n            text\n            @click=\"accept()\"\n          >\n            예\n          </v-btn>\n          <v-btn\n           v-if=\"cardType=='거절'\"\n            color=\"#5f3dc4\"\n            text\n            @click=\"reject()\"\n          >\n            예\n          </v-btn>\n          <v-btn\n            color=\"#5f3dc4\"\n            text\n            @click=\"dialog = false\"\n          >\n            아니오\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n  </dl>\n  \n</template>\n\n<script>\nimport dayjs from \"dayjs\";\nimport { useAppStore } from '@/store/userState'\nimport { loadUser } from '@/worker/user';\n\nexport default {\n  name: \"RequestListItemDetail\",\n  setup(){\n        const store = useAppStore()\n        return {store}\n    },\n  data(){\n    return{\n      dialog:false,\n      cardType:\"수락\",\n      items:[],\n      myData: [],\n      title:[this.getType(this.contents.activeFlag), \"나이\", \"직업\", \"주소\"],\n      match:[]\n    }\n  },\n  props: {\n    contents: Object,\n    tab: Boolean\n  },\n  methods:{\n    getType(flag){\n      if(flag==\"0\"){\n        return \"요청 시간\"\n      }else if(flag==\"1\"){\n        return \"매칭 시간\"\n      }else{\n        return \"종료 시간\"\n      }\n    },\n    makeDate(date){\n      return date.slice(0,4)+\"/\"+date.slice(4,6)+\"/\"+date.slice(6,8)+\" \"+date.slice(8,10)+\":\"+date.slice(10,12)+\":\"+date.slice(12,14)\n    },\n    beforeAccept(){\n      this.cardType=\"수락\"\n      this.dialog = true\n    },\n    accept(){\n      this.dialog = false\n      this.match = {activeFlag : \"1\", createdDate : dayjs().format(\"YYYYMMDDHHmmss\"), sender: this.contents.userId, receiver: this.store.user.userId  }\n      this.$axios.put(`http://matching.169.56.100.104.nip.io/match/matching/accept`,this.match)\n      .then(()=>{\n          this.getUser()\n          this.$router.go()\n      }).catch((err)=>{\n        console.log(err.response)\n      })\n    },\n    getUser(){\n      this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/${this.contents.userId}`)\n      .then((response)=>{\n        let senderUser = response.data\n        senderUser.matchCount = senderUser.matchCount+1\n        this.setCount(senderUser)\n      })\n\n      this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/${this.store.user.userId }`)\n      .then((response)=>{\n        let receiverUser = response.data\n        receiverUser.matchCount = receiverUser.matchCount+1\n        this.setCount(receiverUser)\n      })\n      \n    },\n    setCount(user){\n      this.$axios.put(`http://matching.169.56.100.104.nip.io/match/user`, user)\n      .then((response)=>{\n      })\n    },\n    beforeReject(){\n      this.cardType=\"거절\"\n      this.dialog = true\n    },\n    reject(){\n      this.dialog = false\n      this.match = {activeFlag : \"2\", createdDate : dayjs().format(\"YYYYMMDDHHmmss\"), sender: this.contents.userId, receiver: this.store.user.userId }\n      this.$axios.put(`http://matching.169.56.100.104.nip.io/match/matching/reject`,this.match)\n      .then(()=>{\n        this.$router.go()\n      }).catch((err)=>{\n        console.log(err.response)\n      })\n    }\n  },\n  mounted(){\n    this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/mydata/${this.contents.userId}`)\n    .then((response)=>{\n      this.myData = response.data\n      this.items = {\n        createdDate : this.makeDate(this.contents.createdDate),\n        age : this.myData.age + \"세\",\n        job : this.contents.job,\n        address : this.myData.address\n      }\n    }).catch((err)=>{\n      console.log(err.response)\n    })\n  },\n  created(){\n    loadUser(this.$userId)\n  }\n};\n</script>\n\n<style scoped>\ndl {\n  height: 160px;\n  width: 100%;\n  border-top: 1px solid #dcdfe3;\n  margin: 10px 0;\n  animation: 100ms grow;\n}\n\n.pair {\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  width: 100%;\n  /* height: 18px; */\n  margin: 5px 0;\n}\n\ndt {\n  color: #808080;\n  font-size: 14px;\n}\n\ndd {\n  color: #000;\n  font-size: 14px;\n  font-weight: 700;\n}\n\n@keyframes grow {\n  0% {\n    height: 0;\n  }\n\n  100% {\n    height: 180px;\n  }\n}\n</style>\n"]}]}