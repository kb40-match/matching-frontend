{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js!/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue","mtime":1660723455654},{"path":"/Users/jiwon/test/matching-frontend/babel.config.js","mtime":1660723455491},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICdAL3N0b3JlL3VzZXJTdGF0ZSc7CmltcG9ydCBNZW51QmFyIGZyb20gIi4uL01lbnVCYXIudnVlIjsKaW1wb3J0IHsgbG9hZEZhY2VGaW5hbFVzZXIsIGxvYWRNeWRhdGEsIGxvYWRVc2VyIH0gZnJvbSAnQC93b3JrZXIvdXNlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNZW51QmFyCiAgfSwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZUFwcFN0b3JlKCk7CiAgICByZXR1cm4gewogICAgICBzdG9yZQogICAgfTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXlEYXRhRmxhZzogZmFsc2UsCiAgICAgIC8vIGFsZXJ0OiBmYWxzZSwKICAgICAgYnRuVGV4dDogIuuLpOydjCIsCiAgICAgIHN0YWdlOiA4LAogICAgICByb3VuZDogMCwKICAgICAgaXNUb3A6IGZhbHNlLAogICAgICBpc0JvdHRvbTogZmFsc2UsCiAgICAgIHVzZXJzOiBbXSwKICAgICAgc2F2ZTogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNlbGVjdFQoKSB7CiAgICAgIHRoaXMuaXNUb3AgPSB0cnVlOwogICAgICB0aGlzLmlzQm90dG9tID0gZmFsc2U7CiAgICB9LAoKICAgIGNoZWNrKCkgewogICAgICBpZiAoIXRoaXMuaXNUb3AgJiYgIXRoaXMuaXNCb3R0b20pIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIHNlbGVjdEIoKSB7CiAgICAgIHRoaXMuaXNUb3AgPSBmYWxzZTsKICAgICAgdGhpcy5pc0JvdHRvbSA9IHRydWU7CiAgICB9LAoKICAgIGdvTmV4dCgpIHsKICAgICAgaWYgKCF0aGlzLmlzVG9wICYmICF0aGlzLmlzQm90dG9tKSB7CiAgICAgICAgLy8gdGhpcy5hbGVydCA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc1RvcCkgewogICAgICAgIC8vIOychOyXkCDshKDtg53tlZjrqbQKICAgICAgICB0aGlzLnNhdmUucHVzaCh0aGlzLnNhdmVbdGhpcy5yb3VuZF0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOyVhOuemCDshKDtg53tlZjrqbQKICAgICAgICB0aGlzLnNhdmUucHVzaCh0aGlzLnNhdmVbdGhpcy5yb3VuZCArIDFdKTsKICAgICAgfQoKICAgICAgdGhpcy5yb3VuZCArPSAyOwoKICAgICAgaWYgKHRoaXMucm91bmQgPj0gdGhpcy5zdGFnZSkgewogICAgICAgIHRoaXMucm91bmQgPSAwOwogICAgICAgIHRoaXMuc2F2ZSA9IHRoaXMuc2F2ZS5zbGljZSh0aGlzLnN0YWdlKTsKICAgICAgICB0aGlzLnN0YWdlID0gdGhpcy5zdGFnZSAvIDI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJvdW5kICsgMiA+PSB0aGlzLnN0YWdlKSB7CiAgICAgICAgdGhpcy5idG5UZXh0ID0gIuuLpOydjCDrnbzsmrTrk5wiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnRuVGV4dCA9ICLri6TsnYwiOwogICAgICB9CgogICAgICB0aGlzLmlzVG9wID0gZmFsc2U7CiAgICAgIHRoaXMuaXNCb3R0b20gPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnN0YWdlID09IDIpIHsKICAgICAgICB0aGlzLmJ0blRleHQgPSAi6rKw6rO867O06riwIjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc3RhZ2UgPT0gMSkgewogICAgICAgIC8vIOyDgeyEuCDtjpjsnbTsp4DroZwg7ZmU66m0IOydtOuPmQogICAgICAgIGxldCBmaW5hbFVzZXIgPSB0aGlzLnVzZXJzW3RoaXMuc2F2ZVswXV07CiAgICAgICAgbG9hZEZhY2VGaW5hbFVzZXIoZmluYWxVc2VyKTsgLy8gY29uc29sZS5sb2codGhpcy5zdG9yZS5mYWNlRmluYWxVc2VyKQogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnRmFjZUZpbmFsJywgcGFyYW1zOiB7dXNlcjogZmluYWxVc2VyfX0pCgogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdGYWNlRmluYWwnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0UHJvZmlsZShpKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy8iICsgdGhpcy51c2Vyc1tpXS5wcm9maWxlRmlsZW5hbWUpOwogICAgfSwKCiAgICBzZXRJZHgoKSB7CiAgICAgIHRoaXMudXNlcnMgPSB0aGlzLnVzZXJzLm1hcCgodXNlciwgaWR4KSA9PiAoeyAuLi51c2VyLAogICAgICAgIGlkeAogICAgICB9KSk7CiAgICB9LAoKICAgIGFzeW5jIGdldFJhbmRvbSgpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYGh0dHA6Ly9tYXRjaGluZy4xNjkuNTYuMTAwLjEwNC5uaXAuaW8vbWF0Y2gvdXNlci9maW5kUmFuZG9tLyR7dGhpcy5zdG9yZS5teURhdGEuZ2VuZGVyfWApOyAvLyAke3RoaXMuc3RvcmUubXlEYXRhLmdlbmRlcn0hISEhIQoKICAgICAgdGhpcy51c2VycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIHRoaXMuc2V0SWR4KCk7CiAgICB9CgogIH0sCgogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBhd2FpdCBsb2FkVXNlcih0aGlzLiR1c2VySWQpOwogICAgYXdhaXQgbG9hZE15ZGF0YSh0aGlzLiR1c2VySWQpOwogICAgYXdhaXQgdGhpcy5nZXRSYW5kb20oKTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AA0BA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;IACA;MAAAC;IAAA;EACA,CAPA;;EAQAC;IACA;MACAC,iBADA;MAEA;MACAC,aAHA;MAIAC,QAJA;MAKAC,QALA;MAMAC,YANA;MAOAC,eAPA;MAQAC,SARA;MASAC;IATA;EAWA,CApBA;;EAsBAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACA;IACA,CARA;;IASAC;MACA;MACA;IACA,CAZA;;IAaAC;MACA;QACA;QACA;MACA;;MAEA;QAAA;QACA;MACA,CAFA,MAEA;QAAA;QACA;MACA;;MAEA;;MAEA;QACA;QACA;QACA;MACA;;MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MAEA;MACA;;MAEA;QACA;MACA;;MAEA;QAAA;QACA;QACAC,6BAFA,CAGA;QACA;;QACA;UAAAC;QAAA;MACA;IACA,CArDA;;IAsDAC;MACA;IACA,CAxDA;;IAyDAC;MACA,8CACA,OADA;QAEAC;MAFA;IAIA,CA9DA;;IA+DA;MACA,kIADA,CACA;;MACA;MACA;IACA;;EAnEA,CAtBA;;EA2FA;IACA;IACA;IACA;EACA;;AA/FA","names":["components","MenuBar","setup","store","data","myDataFlag","btnText","stage","round","isTop","isBottom","users","save","methods","selectT","check","selectB","goNext","loadFaceFinalUser","name","getProfile","setIdx","idx"],"sourceRoot":"src/components/FaceMatching","sources":["FaceSelect.vue"],"sourcesContent":["<template>\n<v-container v-if=\"users.length\">\n<MenuBar page=\"FaceSelect\" />\n<div style=\"text-align:center;\">\n    <div id = \"title\">\n        <h1 v-if=\"stage==2\">결승</h1>\n        <h1 v-else>{{stage}} 강전</h1>\n        <span style=\"font-size:22px;\">마음이 가는 사용자를 선택해주세요!</span>\n    </div>\n    <div id = \"face-img\">\n    \n        <img :src=\"getProfile(this.save[this.round])\" @click=\"selectT\" :class=\"{'selected':isTop, 'no-selected':!isTop}\" />\n        <p style=\"font-size:30px;font-weight:bold\">VS</p>\n        <img :src=\"getProfile(this.save[this.round+1])\" @click=\"selectB\" :class=\"{'selected':isBottom, 'no-selected':!isBottom}\"/>\n    </div> \n    <v-btn id=\"nextBtn\" rounded text large dark @click=\"goNext\" :disabled=check()>{{this.btnText}}</v-btn>\n    <!-- <v-snackbar v-model=\"alert\" Bottom flat color=\"black\" rounded=\"pill\" :timeout=\"1500\">\n      <span class=\"snackText\">\n        한명을 선택해주세요\n      </span>\n    </v-snackbar> -->\n</div>\n</v-container>\n</template>\n\n<script>\nimport { useAppStore } from '@/store/userState'\nimport MenuBar from \"../MenuBar.vue\";\nimport { loadFaceFinalUser, loadMydata, loadUser } from '@/worker/user'\n\nexport default {\n    components:{\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data(){\n        return{\n            myDataFlag : false,\n            // alert: false,\n            btnText : \"다음\",\n            stage : 8,\n            round : 0,\n            isTop : false,\n            isBottom : false,\n            users : [],\n            save : [0,1,2,3,4,5,6,7]\n        }\n    },\n    \n    methods: {\n        selectT() {\n            this.isTop = true;\n            this.isBottom = false;\n        },\n        check(){\n            if(!this.isTop && !this.isBottom) return true\n            return false\n        },\n        selectB() {\n            this.isTop = false;\n            this.isBottom = true;\n        },\n        goNext() {\n            if(!this.isTop && !this.isBottom){\n                // this.alert = true;\n                return;\n            }\n            \n            if(this.isTop){ // 위에 선택하면\n                this.save.push(this.save[this.round])\n            }else{ // 아래 선택하면\n                this.save.push(this.save[this.round+1])\n            }\n\n            this.round += 2\n            \n            if(this.round >=this.stage){\n                this.round = 0\n                this.save = this.save.slice(this.stage)\n                this.stage = this.stage / 2\n            }\n\n            if(this.round+2 >= this.stage){\n                this.btnText = \"다음 라운드\"\n            }else{\n                this.btnText = \"다음\"\n            }\n\n            this.isTop = false\n            this.isBottom = false\n\n            if(this.stage == 2){\n                this.btnText = \"결과보기\"\n            }\n\n            if(this.stage == 1){ // 상세 페이지로 화면 이동\n                let finalUser = this.users[this.save[0]]\n                loadFaceFinalUser(finalUser)\n                // console.log(this.store.faceFinalUser)\n                // this.$router.push({name: 'FaceFinal', params: {user: finalUser}})\n                this.$router.push({name: 'FaceFinal'})\n            }\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + this.users[i].profileFilename)\n        },\n        setIdx(){\n            this.users = this.users.map((user, idx) => ({\n                ...user, \n                idx,\n            }))\n        },\n        async getRandom(){\n            const response = await this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/findRandom/${this.store.myData.gender}`) // ${this.store.myData.gender}!!!!!\n            this.users = response.data\n            this.setIdx()\n        }\n    },\n    async created(){\n        await loadUser(this.$userId)\n        await loadMydata(this.$userId)\n        await this.getRandom()\n    }\n}\n</script>\n\n\n<style scoped>\nh1{\n    font-size:50px;\n}\n#title{\n    text-align:center;\n    margin-top:10px;\n}\n\n#face-img{\n    text-align:center;\n    margin : 30px;\n    object-fit:cover;\n}\n\n#nextBtn{\n    background-color:#8452f7;\n    width:70%;\n    font-size:24px;\n}\n\nimg {\n    width:200px;\n    height:200px;\n    border: 5px solid #f3f0ff;\n    border-radius: 50%;\n     /* filter: brightness(50%); */\n     /* opacity:0.2; */\n}\n\n.selected{\nborder: 5px solid #8452f7;\n}\n\n.no-selected{\nborder: 5px solid #f3f0ff;\n}\n</style>\n"]}]}