{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js!/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceFinal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceFinal.vue","mtime":1660723455654},{"path":"/Users/jiwon/test/matching-frontend/babel.config.js","mtime":1660723455491},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKaW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICcuLi8uLi9zdG9yZS91c2VyU3RhdGUnOwppbXBvcnQgeyBzZXRVc2VyLCBsb2FkVXNlciB9IGZyb20gJy4uLy4uL3dvcmtlci91c2VyJzsKaW1wb3J0IE1lbnVCYXIgZnJvbSAiLi4vTWVudUJhci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWVudUJhcgogIH0sCgogIHNldHVwKCkgewogICAgY29uc3Qgc3RvcmUgPSB1c2VBcHBTdG9yZSgpOwogICAgcmV0dXJuIHsKICAgICAgc3RvcmUKICAgIH07CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICBteWRhdGE6IHt9LAogICAgICBtYXRjaDogewogICAgICAgIHNlbmRlcjogJycsCiAgICAgICAgcmVjZWl2ZXI6ICcnLAogICAgICAgIGFjdGl2ZUZsYWc6ICcnLAogICAgICAgIGNyZWF0ZWREYXRhOiAnJwogICAgICB9LAogICAgICBhbGVydDogZmFsc2UsCiAgICAgIG1lc3NhZ2U6ICcnCiAgICB9OwogIH0sCgogIC8vIHByb3BzOnsKICAvLyAgICAgdXNlcjp7CiAgLy8gICAgICAgICB0eXBlOk9iamVjdAogIC8vICAgICB9CiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICBnZXRNeWRhdGEoKSB7CiAgICAgIHRoaXMuJGF4aW9zLmdldChgL3VzZXIvbXlkYXRhLyR7dGhpcy51c2VyLnVzZXJJZH1gKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLm15ZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGRpc3BsYXlEZXRhaWwoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTWF0Y2hEZXRhaWwnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgdXNlcjogdGhpcy51c2VyLAogICAgICAgICAgbXlkYXRhOiB0aGlzLm15ZGF0YQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHJlTWF0Y2hpbmcoKSB7CiAgICAgIHRoaXMuc3RvcmUudXNlci51c2VyUG9pbnQgLT0gNTAwOwogICAgICBzZXRVc2VyKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZmFjZVNlbGVjdCIpLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCgogICAgZ29DaGF0KCkgewogICAgICB0aGlzLm1hdGNoLnNlbmRlciA9IHRoaXMuc3RvcmUudXNlci51c2VySWQ7CiAgICAgIHRoaXMubWF0Y2gucmVjZWl2ZXIgPSB0aGlzLnVzZXIudXNlcklkOwogICAgICB0aGlzLm1hdGNoLmFjdGl2ZUZsYWcgPSAnMCc7CiAgICAgIHRoaXMubWF0Y2guY3JlYXRlZERhdGUgPSBkYXlqcygpLmZvcm1hdCgiWVlZWU1NRERISG1tc3MiKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdChgaHR0cDovL21hdGNoaW5nLjE2OS41Ni4xMDAuMTA0Lm5pcC5pby9tYXRjaC9tYXRjaGluZy9yZXF1ZXN0YCwgdGhpcy5tYXRjaCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLrjIDtmZTrpbwg7JqU7LKt7ZaI7Iq164uI64ukLiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLsnbTrr7gg7KeE7ZaJ7KSR7J6F64uI64ukLiI7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0UHJvZmlsZShpKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy8iICsgaSk7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE15ZGF0YSgpOwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBsb2FkVXNlcih0aGlzLiR1c2VySWQpOwogICAgdGhpcy51c2VyID0gdGhpcy5zdG9yZS5mYWNlRmluYWxVc2VyOwogIH0KCn07"},{"version":3,"mappings":"AAqCA;AACA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;IACA;MAAAC;IAAA;EACA,CAPA;;EAQAC;IACA;MACAC,QADA;MAEAC,UAFA;MAGAC;QACAC,UADA;QAEAC,YAFA;QAGAC,cAHA;QAIAC;MAJA,CAHA;MASAC,YATA;MAUAC;IAVA;EAYA,CArBA;;EAsBA;EACA;EACA;EACA;EACA;EACAC;IACAC;MACA,YACAC,GADA,CACA,kCADA,EAEAC,IAFA,CAEAC;QACA;MACA,CAJA,EAKAC,KALA,CAKAC;QACAC;MACA,CAPA;IAQA,CAVA;;IAWAC;MACA;QAAAC;QAAAC;UAAAnB;UAAAC;QAAA;MAAA;IACA,CAbA;;IAcAmB;MACA;MACAC;MACA;IACA,CAlBA;;IAmBAC;MACA;MACA;MACA;MACA;MAEA,6FACAV,IADA,CACAC;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACA;MACA,CARA,EAQAC,KARA,CAQAC;QACAC;MACA,CAVA;IAWA,CApCA;;IAqCAO;MACA;IACA;;EAvCA,CA3BA;;EAoEAC;IACA;EACA,CAtEA;;EAuEAC;IACAC;IACA;EACA;;AA1EA","names":["components","MenuBar","setup","store","data","user","mydata","match","sender","receiver","activeFlag","createdData","alert","message","methods","getMydata","get","then","response","catch","err","console","displayDetail","name","params","reMatching","setUser","goChat","getProfile","mounted","created","loadUser"],"sourceRoot":"src/components/FaceMatching","sources":["FaceFinal.vue"],"sourcesContent":["<template>\n<v-container>\n    <MenuBar page=\"FaceSelect\" />\n    <div>\n        <div style=\"font-size:20px;text-align:center;margin-top:30px;\">\n            <div>대화를 요청하시려면</div>\n            <div class=\"d-flex\" style=\"justify-content: center;align-items: center;\">아래 <div id=\"chat-mini\"> <v-icon small style=\"color:white\">mdi-chat</v-icon> </div> 를 눌러주세요! </div>\n        </div>\n    <div id=\"user\">\n        <div id=\"user-img\"><img :src=getProfile(user.profileFilename) style=\"height:260px;width:260px;border-radius:100%;\" /></div>\n        <div id=\"user-info\">\n            <div style=\"display:flex; align-items:center;\">\n                <div style=\"width:220px;\">\n                <div style=\"font-size:21px;\">{{user.nickname}}, {{mydata.age}}세</div>\n                <div style=\"font-size:15px;\"><v-icon small style=\"color:black;\">mdi-map-marker</v-icon>{{mydata.address}}</div>\n                </div>\n                <div id=\"chat\" @click=\"goChat\">\n                    <v-icon style=\"color:white\">mdi-chat</v-icon>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div style=\"text-align:center; margin-top:20px;\">\n        <v-btn text rounded large dark @click=\"displayDetail\" id=\"btn\" >상세정보 보기</v-btn>\n        <v-btn rounded text large dark @click=\"reMatching\" id=\"btn\">다시하기 (-500P)</v-btn>\n    </div>\n</div>\n<v-snackbar v-model=\"alert\" top flat color=\"#f1f3f5\" rounded=\"pill\" :timeout=\"1500\" style=\"margin-top:70px;font-size:20px;\">\n      <span class=\"snackText\">\n        {{message}}\n      </span>\n    </v-snackbar>\n</v-container>\n\n</template>\n\n<script>\nimport dayjs from \"dayjs\";\nimport { useAppStore } from '../../store/userState'\nimport { setUser, loadUser } from '../../worker/user'\nimport MenuBar from \"../MenuBar.vue\";\n\nexport default {\n    components:{\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data(){\n        return{\n            user:{},\n            mydata:{},\n            match:{\n                sender:'',\n                receiver:'',\n                activeFlag:'',\n                createdData:''\n            },\n            alert:false,\n            message:''\n        }\n    },\n    // props:{\n    //     user:{\n    //         type:Object\n    //     }\n    // },\n    methods: {\n        getMydata(){\n            this.$axios\n                .get(`/user/mydata/${this.user.userId}`)\n                .then((response) => {\n                    this.mydata =  response.data\n                })\n                .catch((err) => {\n                    console.log(err.response)\n                });\n        },\n        displayDetail() {\n            this.$router.push({name: 'MatchDetail', params: {user: this.user, mydata : this.mydata}})\n        },\n        reMatching() {\n            this.store.user.userPoint -= 500\n            setUser()\n            this.$router.push(\"/faceSelect\").catch(() => {});\n        },\n        goChat(){\n            this.match.sender=this.store.user.userId\n            this.match.receiver=this.user.userId\n            this.match.activeFlag = '0'\n            this.match.createdDate = dayjs().format(\"YYYYMMDDHHmmss\")\n\n            this.$axios.post(`http://matching.169.56.100.104.nip.io/match/matching/request`, this.match)\n            .then((response)=>{\n                if(response.data){\n                    this.message=\"대화를 요청했습니다.\"\n                }else{\n                    this.message=\"이미 진행중입니다.\"\n                }\n                this.alert=true\n            }).catch((err)=>{\n                console.log(err.response)\n            })\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + i)\n        }\n    },\n    mounted() { \n        this.getMydata()\n    },\n    created(){\n        loadUser(this.$userId)\n        this.user = this.store.faceFinalUser\n    }\n}\n</script>\n\n\n<style scoped>\n#btn{\n    font-size:18px;\n    /* margin-right: 15px; */\n    margin-top: 8px;\n    background: #8452f7;\n    width:88%;\n    height:50px;\n}\n\n#user{\n    border : 2px solid #8452f7;\n    border-radius: 30px;\n    margin : 20px;\n    height : 450px;\n}\n#user-img{\n    height:310px; \n    display:flex;\n    justify-content: center;\n    align-items: center;\n}\n#user-info{\n    /* border : 1px solid; */\n    border-radius: 30px;\n    height:100px;\n    margin:20px 10px 20px 10px;\n    padding:15px;\n    align-items: center;\n    display:flex;\n    background-color:#f3f0ff;\n}\n#chat{\n    width:50px; \n    height:50px; \n    display:flex; \n    align-items:center; \n    justify-content:center; \n    border-radius:100%;\n    background-color:#8452f7;\n    border:none;\n}\n\n#chat-mini{\n    width:30px; \n    height:30px; \n    display:flex; \n    align-items:center; \n    justify-content:center; \n    border-radius:100%;\n    background-color:#8452f7;\n    border:none;\n    margin-right:2px;\n    margin-left:5px;\n}\n</style>\n"]}]}