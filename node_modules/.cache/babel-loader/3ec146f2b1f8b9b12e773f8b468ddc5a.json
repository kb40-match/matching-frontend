{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js!/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/MindMatching/MindMatchingList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/MindMatching/MindMatchingList.vue","mtime":1660723455655},{"path":"/Users/jiwon/test/matching-frontend/babel.config.js","mtime":1660723455491},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlQXBwU3RvcmUgfSBmcm9tICcuLi8uLi9zdG9yZS91c2VyU3RhdGUnOwppbXBvcnQgeyBmZXRjaFVzZXIsIGZldGNoTXlEYXRhLCBsb2FkVXNlciB9IGZyb20gJy4uLy4uL3dvcmtlci91c2VyJzsKaW1wb3J0IHsgc2V0VXNlciB9IGZyb20gJ0Avd29ya2VyL3VzZXInOwppbXBvcnQgTWVudUJhciBmcm9tICIuLi9NZW51QmFyLnZ1ZSI7CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNZW51QmFyCiAgfSwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZUFwcFN0b3JlKCk7CiAgICByZXR1cm4gewogICAgICBzdG9yZQogICAgfTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYTogMCwKICAgICAgYjogMSwKICAgICAgZmluYWxVc2VyOiBudWxsLAogICAgICBmaW5hbE15RGF0YTogbnVsbCwKICAgICAgcmVwb25zZXM6IFtdLAogICAgICBteURhdGFzOiBbXSwKICAgICAgcGVvcGxlOiBbXSwKICAgICAgbWF0Y2g6IHsKICAgICAgICBzZW5kZXI6ICcnLAogICAgICAgIHJlY2VpdmVyOiAnJywKICAgICAgICBhY3RpdmVGbGFnOiAnJywKICAgICAgICBjcmVhdGVkRGF0ZTogJycKICAgICAgfSwKICAgICAgYWxlcnQ6IGZhbHNlLAogICAgICBtZXNzYWdlOiAnJwogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICByZXRyeSgpIHsKICAgICAgdGhpcy5zdG9yZS51c2VyLnVzZXJQb2ludCAtPSA1MDA7CiAgICAgIHNldFVzZXIoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9taW5kUXVlc3Rpb24iKS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAoKICAgIGFzeW5jIGdvRGV0YWlsUGFnZSh1c2VySWQpIHsKICAgICAgLy8gZmV0Y2ggdXNlciBhbmQgbXlEYXRhIG9iamVjdCBmb3IgZmluYWxVc2VyCiAgICAgIHRoaXMuZmluYWxVc2VyID0gYXdhaXQgZmV0Y2hVc2VyKHVzZXJJZCk7CiAgICAgIHRoaXMuZmluYWxNeURhdGEgPSBhd2FpdCBmZXRjaE15RGF0YSh1c2VySWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ01hdGNoRGV0YWlsJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXI6IHRoaXMuZmluYWxVc2VyLAogICAgICAgICAgbXlkYXRhOiB0aGlzLmZpbmFsTXlEYXRhCiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAoKICAgIGdldFByb2ZpbGUoaSkgewogICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvIiArIHRoaXMucGVvcGxlW2ldLnByb2ZpbGVGaWxlbmFtZSk7CiAgICB9LAoKICAgIGdvQ2hhdCh1c2VySWQpIHsKICAgICAgdGhpcy5tYXRjaC5zZW5kZXIgPSB0aGlzLnN0b3JlLnVzZXIudXNlcklkOwogICAgICB0aGlzLm1hdGNoLnJlY2VpdmVyID0gdXNlcklkOwogICAgICB0aGlzLm1hdGNoLmFjdGl2ZUZsYWcgPSAnMCc7CiAgICAgIHRoaXMubWF0Y2guY3JlYXRlZERhdGUgPSBkYXlqcygpLmZvcm1hdCgiWVlZWU1NRERISG1tc3MiKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdChgaHR0cDovL21hdGNoaW5nLjE2OS41Ni4xMDAuMTA0Lm5pcC5pby9tYXRjaC9tYXRjaGluZy9yZXF1ZXN0YCwgdGhpcy5tYXRjaCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLrjIDtmZTrpbwg7JqU7LKt7ZaI7Iq164uI64ukLiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLsnbTrr7gg7KeE7ZaJ7KSR7J6F64uI64ukLiI7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgYXN5bmMgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLnBlb3BsZSA9IGF3YWl0IHRoaXMuc3RvcmUuYWlSZXN1bHQ7IC8vIGFzc2lnbiByZXBvbnNlIHRvIHBlb3BsZSBhcnJheQogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBsb2FkVXNlcih0aGlzLiR1c2VySWQpOwogIH0KCn07"},{"version":3,"mappings":"AA8CA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;IACA;MAAAC;IAAA;EACA,CAPA;;EAQAC;IACA;MACAC,IADA;MAEAC,IAFA;MAGAC,eAHA;MAIAC,iBAJA;MAKAC,YALA;MAMAC,WANA;MAOAC,UAPA;MAQAC;QACAC,UADA;QAEAC,YAFA;QAGAC,cAHA;QAIAC;MAJA,CARA;MAcAC,YAdA;MAeAC;IAfA;EAiBA,CA1BA;;EA2BAC;IACAC;MACA;MACAC;MACA;IACA,CALA;;IAMA;MAEA;MACA;MACA;MAEA;QAAAC;QAAAC;UAAAC;UAAAC;QAAA;MAAA;IACA,CAbA;;IAcAC;MACA;IACA,CAhBA;;IAiBAC;MACA;MACA;MACA;MACA;MACA,6FACAC,IADA,CACAC;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACA;MACA,CARA,EAQAC,KARA,CAQAC;QACAC;MACA,CAVA;IAWA;;EAjCA,CA3BA;;EA8DA;IACA,wCADA,CACA;EACA,CAhEA;;EAiEAC;IACAC;EACA;;AAnEA","names":["components","MenuBar","setup","store","data","a","b","finalUser","finalMyData","reponses","myDatas","people","match","sender","receiver","activeFlag","createdDate","alert","message","methods","retry","setUser","name","params","user","mydata","getProfile","goChat","then","response","catch","err","console","created","loadUser"],"sourceRoot":"src/components/MindMatching","sources":["MindMatchingList.vue"],"sourcesContent":["<template>\n    <div>\n        <MenuBar page=\"MindQuestion\" />\n        \n        <div v-if=\"people.length != 0\" fluid style=\"margin-top: 30px;\">\n            <v-row dense id=\"main\">\n                <v-col v-for=\"(person, index) in people.slice(0,1)\" :key=\"index\" cols=\"12\" xs=\"12\">\n                    <v-card id=\"mainCard\">\n                        <div id=\"percentLabel\" style=\"background-color: #b197fc;\" >{{ person.fitPercent }}% 매칭</div>\n                        <div style=\"display:flex;width:100%;padding-left:20px;\">\n                            <div style=\"width:60%\"><img id=\"topImage\" :src=\"getProfile(index)\" @click=\"goDetailPage(person.userId)\"/></div>\n                            <div style=\"width:40%; display:flex; justify-content: center; align-items: center;\">\n                            <v-col>\n                                <v-btn rounded large style=\"font-size:17px;\" @click=\"goDetailPage(person.userId)\">상세정보</v-btn>\n                                <v-btn rounded large style=\"margin-top:20px; font-size:17px;\" @click=\"goChat(person.userId)\">대화요청</v-btn>\n                            </v-col>\n                            </div>\n                        </div>\n                        <div style=\"display:flex; align-items:center;\"><v-icon large color=\"#f8d459\" class=\"mr-2\">mdi-crown</v-icon><span style=\"font-size:25px;font-weight:bold;\"> {{person.nickname}} </span><v-icon large color=\"#f8d459\" class=\"ml-2\">mdi-crown</v-icon></div>\n                    </v-card>\n                </v-col>\n            </v-row>\n           \n            <v-row dense id=\"sub\">\n            <v-col v-for=\"(person, index) in people.slice(1)\" :key=\"index\" cols=\"6\" xs=\"6\">\n                <v-card id=\"subCard\">\n                <div id=\"percentLabel\" style=\"background-color: #b197fc; \">{{ person.fitPercent }}% 매칭</div>\n                <img id=\"bottomImages\" :src=\"getProfile(index+1)\" @click=\"goDetailPage(person.userId)\"/>\n                <div rounded id=\"nameLabel\">{{person.nickname}}</div>\n                </v-card>\n            </v-col>\n            </v-row>\n        </div>\n        \n        <div style=\"text-align: center; margin-bottom:20px;\"> \n            <v-btn text dark rounded id=\"retryBtn\" @click=\"retry\">다시하기 (-500P)</v-btn>\n        </div>\n        <v-snackbar v-model=\"alert\" top flat color=\"#f1f3f5\" rounded=\"pill\" :timeout=\"1500\" style=\"margin-top:70px;font-size:20px;\">\n        <span class=\"snackText\">\n            {{message}}\n        </span>\n        </v-snackbar>\n    </div>\n</template>\n\n<script>\nimport { useAppStore } from '../../store/userState'\nimport { fetchUser, fetchMyData, loadUser } from '../../worker/user';\nimport { setUser } from '@/worker/user'\nimport MenuBar from \"../MenuBar.vue\";\nimport dayjs from \"dayjs\";\n\nexport default {\n    components : {\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data() {\n        return {\n            a: 0,\n            b: 1,\n            finalUser: null,\n            finalMyData: null,\n            reponses: [],\n            myDatas: [],\n            people: [],\n            match:{\n                sender:'',\n                receiver:'',\n                activeFlag:'',\n                createdDate:''\n            },\n            alert:false,\n            message:''\n        }\n    },\n    methods: {\n        retry() {\n            this.store.user.userPoint -= 500\n            setUser()\n            this.$router.push(\"/mindQuestion\").catch(() => {});\n        },\n        async goDetailPage(userId) {\n\n            // fetch user and myData object for finalUser\n            this.finalUser = await fetchUser(userId)\n            this.finalMyData = await fetchMyData(userId)\n\n            this.$router.push({name: 'MatchDetail', params: {user: this.finalUser, mydata : this.finalMyData}}).catch(() => {});\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + this.people[i].profileFilename)\n        },\n        goChat(userId){\n            this.match.sender=this.store.user.userId\n            this.match.receiver=userId\n            this.match.activeFlag = '0'\n            this.match.createdDate = dayjs().format(\"YYYYMMDDHHmmss\")\n            this.$axios.post(`http://matching.169.56.100.104.nip.io/match/matching/request`, this.match)\n            .then((response)=>{\n                if(response.data){\n                    this.message=\"대화를 요청했습니다.\"\n                }else{\n                    this.message=\"이미 진행중입니다.\"\n                }\n                this.alert=true\n            }).catch((err)=>{\n                console.log(err.response)\n            })\n        }\n    },\n    async beforeMount() {\n        this.people = await this.store.aiResult    // assign reponse to people array\n    },\n    created(){\n        loadUser(this.$userId)\n    }\n}\n</script>\n\n\n<style scoped>\n\n#main{\n  margin : 10px;\n  display : flex;\n  align-items:center;\n}\n#sub{\n  margin : 10px;\n  display : flex;\n  align-items:center;\n}\n\n#mainCard {\n    display:flex;\n    justify-content:center;\n    align-items: center;\n    flex-direction: column;\n    color: white;\n    height: 300px;\n    border-radius: 20px;\n    border:2px solid #b197fc; \n}\n\n#subCard {\n    display:flex;\n    justify-content:center;\n    align-items: center;\n    flex-direction: column;\n    color: white;\n    height: 250px;\n    border-radius: 20px;\n    margin-bottom: 20px;\n    border:2px solid #b197fc; \n}\n\n#percentLabel {\n    width: 85%;\n    height:30px;\n    display: flex;\n    align-items: center;\n    justify-content:center; \n    transform: translateY(-50%);\n    border-radius: 0 0 20px 20px;\n    color: white;\n    font-size:20px;\n}\n\n#retryBtn {\n    /* display : flex;\n    align-items:center; */\n    /* margin-top: 50px; */\n    background-color: #7950f2;\n    height:50px;\n    font-size:18px;\n}\n\n#box-user {\n    background-color: #C4C4C4;\n}   \n\n#topImage {\n    height: 195px;\n    width: 195px;\n    object-fit: cover;\n    border-radius: 100%;\n    /* margin-bottom: 10px; */\n}\n\n#bottomImages {\n    height: 150px;\n    width: 150px;\n    object-fit: cover;\n    border-radius: 100%;\n    margin-bottom: 10px;\n}\n\n#nameLabel {\n    /* color: white;\n    background-color: #7950f2; */\n    width: 95%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    font-weight:bold;\n}\n\n\n</style>"]}]}