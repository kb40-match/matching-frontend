{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue?vue&type=style&index=0&id=9e70e6e4&scoped=true&lang=css&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue","mtime":1660723455654},{"path":"/Users/jiwon/test/matching-frontend/node_modules/css-loader/dist/cjs.js","mtime":1660264748105},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1660264748190},{"path":"/Users/jiwon/test/matching-frontend/node_modules/postcss-loader/src/index.js","mtime":1660264748183},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmgxewogICAgZm9udC1zaXplOjUwcHg7Cn0KI3RpdGxlewogICAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgICBtYXJnaW4tdG9wOjEwcHg7Cn0KCiNmYWNlLWltZ3sKICAgIHRleHQtYWxpZ246Y2VudGVyOwogICAgbWFyZ2luIDogMzBweDsKICAgIG9iamVjdC1maXQ6Y292ZXI7Cn0KCiNuZXh0QnRuewogICAgYmFja2dyb3VuZC1jb2xvcjojODQ1MmY3OwogICAgd2lkdGg6NzAlOwogICAgZm9udC1zaXplOjI0cHg7Cn0KCmltZyB7CiAgICB3aWR0aDoyMDBweDsKICAgIGhlaWdodDoyMDBweDsKICAgIGJvcmRlcjogNXB4IHNvbGlkICNmM2YwZmY7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgLyogZmlsdGVyOiBicmlnaHRuZXNzKDUwJSk7ICovCiAgICAgLyogb3BhY2l0eTowLjI7ICovCn0KCi5zZWxlY3RlZHsKYm9yZGVyOiA1cHggc29saWQgIzg0NTJmNzsKfQoKLm5vLXNlbGVjdGVkewpib3JkZXI6IDVweCBzb2xpZCAjZjNmMGZmOwp9Cg=="},{"version":3,"sources":["FaceSelect.vue"],"names":[],"mappings":";AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"FaceSelect.vue","sourceRoot":"src/components/FaceMatching","sourcesContent":["<template>\n<v-container v-if=\"users.length\">\n<MenuBar page=\"FaceSelect\" />\n<div style=\"text-align:center;\">\n    <div id = \"title\">\n        <h1 v-if=\"stage==2\">결승</h1>\n        <h1 v-else>{{stage}} 강전</h1>\n        <span style=\"font-size:22px;\">마음이 가는 사용자를 선택해주세요!</span>\n    </div>\n    <div id = \"face-img\">\n    \n        <img :src=\"getProfile(this.save[this.round])\" @click=\"selectT\" :class=\"{'selected':isTop, 'no-selected':!isTop}\" />\n        <p style=\"font-size:30px;font-weight:bold\">VS</p>\n        <img :src=\"getProfile(this.save[this.round+1])\" @click=\"selectB\" :class=\"{'selected':isBottom, 'no-selected':!isBottom}\"/>\n    </div> \n    <v-btn id=\"nextBtn\" rounded text large dark @click=\"goNext\" :disabled=check()>{{this.btnText}}</v-btn>\n    <!-- <v-snackbar v-model=\"alert\" Bottom flat color=\"black\" rounded=\"pill\" :timeout=\"1500\">\n      <span class=\"snackText\">\n        한명을 선택해주세요\n      </span>\n    </v-snackbar> -->\n</div>\n</v-container>\n</template>\n\n<script>\nimport { useAppStore } from '@/store/userState'\nimport MenuBar from \"../MenuBar.vue\";\nimport { loadFaceFinalUser, loadMydata, loadUser } from '@/worker/user'\n\nexport default {\n    components:{\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data(){\n        return{\n            myDataFlag : false,\n            // alert: false,\n            btnText : \"다음\",\n            stage : 8,\n            round : 0,\n            isTop : false,\n            isBottom : false,\n            users : [],\n            save : [0,1,2,3,4,5,6,7]\n        }\n    },\n    \n    methods: {\n        selectT() {\n            this.isTop = true;\n            this.isBottom = false;\n        },\n        check(){\n            if(!this.isTop && !this.isBottom) return true\n            return false\n        },\n        selectB() {\n            this.isTop = false;\n            this.isBottom = true;\n        },\n        goNext() {\n            if(!this.isTop && !this.isBottom){\n                // this.alert = true;\n                return;\n            }\n            \n            if(this.isTop){ // 위에 선택하면\n                this.save.push(this.save[this.round])\n            }else{ // 아래 선택하면\n                this.save.push(this.save[this.round+1])\n            }\n\n            this.round += 2\n            \n            if(this.round >=this.stage){\n                this.round = 0\n                this.save = this.save.slice(this.stage)\n                this.stage = this.stage / 2\n            }\n\n            if(this.round+2 >= this.stage){\n                this.btnText = \"다음 라운드\"\n            }else{\n                this.btnText = \"다음\"\n            }\n\n            this.isTop = false\n            this.isBottom = false\n\n            if(this.stage == 2){\n                this.btnText = \"결과보기\"\n            }\n\n            if(this.stage == 1){ // 상세 페이지로 화면 이동\n                let finalUser = this.users[this.save[0]]\n                loadFaceFinalUser(finalUser)\n                // console.log(this.store.faceFinalUser)\n                // this.$router.push({name: 'FaceFinal', params: {user: finalUser}})\n                this.$router.push({name: 'FaceFinal'})\n            }\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + this.users[i].profileFilename)\n        },\n        setIdx(){\n            this.users = this.users.map((user, idx) => ({\n                ...user, \n                idx,\n            }))\n        },\n        async getRandom(){\n            const response = await this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/findRandom/${this.store.myData.gender}`) // ${this.store.myData.gender}!!!!!\n            this.users = response.data\n            this.setIdx()\n        }\n    },\n    async created(){\n        await loadUser(this.$userId)\n        await loadMydata(this.$userId)\n        await this.getRandom()\n    }\n}\n</script>\n\n\n<style scoped>\nh1{\n    font-size:50px;\n}\n#title{\n    text-align:center;\n    margin-top:10px;\n}\n\n#face-img{\n    text-align:center;\n    margin : 30px;\n    object-fit:cover;\n}\n\n#nextBtn{\n    background-color:#8452f7;\n    width:70%;\n    font-size:24px;\n}\n\nimg {\n    width:200px;\n    height:200px;\n    border: 5px solid #f3f0ff;\n    border-radius: 50%;\n     /* filter: brightness(50%); */\n     /* opacity:0.2; */\n}\n\n.selected{\nborder: 5px solid #8452f7;\n}\n\n.no-selected{\nborder: 5px solid #f3f0ff;\n}\n</style>\n"]}]}