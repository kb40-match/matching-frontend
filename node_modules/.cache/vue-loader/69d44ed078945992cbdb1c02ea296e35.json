{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceFinal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceFinal.vue","mtime":1660723455654},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSAnLi4vLi4vc3RvcmUvdXNlclN0YXRlJwppbXBvcnQgeyBzZXRVc2VyLCBsb2FkVXNlciB9IGZyb20gJy4uLy4uL3dvcmtlci91c2VyJwppbXBvcnQgTWVudUJhciBmcm9tICIuLi9NZW51QmFyLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOnsKICAgICAgICBNZW51QmFyCiAgICB9LAogICAgc2V0dXAoKXsKICAgICAgICBjb25zdCBzdG9yZSA9IHVzZUFwcFN0b3JlKCkKICAgICAgICByZXR1cm4ge3N0b3JlfQogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHVzZXI6e30sCiAgICAgICAgICAgIG15ZGF0YTp7fSwKICAgICAgICAgICAgbWF0Y2g6ewogICAgICAgICAgICAgICAgc2VuZGVyOicnLAogICAgICAgICAgICAgICAgcmVjZWl2ZXI6JycsCiAgICAgICAgICAgICAgICBhY3RpdmVGbGFnOicnLAogICAgICAgICAgICAgICAgY3JlYXRlZERhdGE6JycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWxlcnQ6ZmFsc2UsCiAgICAgICAgICAgIG1lc3NhZ2U6JycKICAgICAgICB9CiAgICB9LAogICAgLy8gcHJvcHM6ewogICAgLy8gICAgIHVzZXI6ewogICAgLy8gICAgICAgICB0eXBlOk9iamVjdAogICAgLy8gICAgIH0KICAgIC8vIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0TXlkYXRhKCl7CiAgICAgICAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KGAvdXNlci9teWRhdGEvJHt0aGlzLnVzZXIudXNlcklkfWApCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm15ZGF0YSA9ICByZXNwb25zZS5kYXRhCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRpc3BsYXlEZXRhaWwoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnTWF0Y2hEZXRhaWwnLCBwYXJhbXM6IHt1c2VyOiB0aGlzLnVzZXIsIG15ZGF0YSA6IHRoaXMubXlkYXRhfX0pCiAgICAgICAgfSwKICAgICAgICByZU1hdGNoaW5nKCkgewogICAgICAgICAgICB0aGlzLnN0b3JlLnVzZXIudXNlclBvaW50IC09IDUwMAogICAgICAgICAgICBzZXRVc2VyKCkKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9mYWNlU2VsZWN0IikuY2F0Y2goKCkgPT4ge30pOwogICAgICAgIH0sCiAgICAgICAgZ29DaGF0KCl7CiAgICAgICAgICAgIHRoaXMubWF0Y2guc2VuZGVyPXRoaXMuc3RvcmUudXNlci51c2VySWQKICAgICAgICAgICAgdGhpcy5tYXRjaC5yZWNlaXZlcj10aGlzLnVzZXIudXNlcklkCiAgICAgICAgICAgIHRoaXMubWF0Y2guYWN0aXZlRmxhZyA9ICcwJwogICAgICAgICAgICB0aGlzLm1hdGNoLmNyZWF0ZWREYXRlID0gZGF5anMoKS5mb3JtYXQoIllZWVlNTURESEhtbXNzIikKCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYGh0dHA6Ly9tYXRjaGluZy4xNjkuNTYuMTAwLjEwNC5uaXAuaW8vbWF0Y2gvbWF0Y2hpbmcvcmVxdWVzdGAsIHRoaXMubWF0Y2gpCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEpewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT0i64yA7ZmU66W8IOyalOyyre2WiOyKteuLiOuLpC4iCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2U9IuydtOuvuCDsp4TtlonspJHsnoXri4jri6QuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hbGVydD10cnVlCiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRQcm9maWxlKGkpewogICAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvIiArIGkpCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7IAogICAgICAgIHRoaXMuZ2V0TXlkYXRhKCkKICAgIH0sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgbG9hZFVzZXIodGhpcy4kdXNlcklkKQogICAgICAgIHRoaXMudXNlciA9IHRoaXMuc3RvcmUuZmFjZUZpbmFsVXNlcgogICAgfQp9Cg=="},{"version":3,"sources":["FaceFinal.vue"],"names":[],"mappings":";AAqCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FaceFinal.vue","sourceRoot":"src/components/FaceMatching","sourcesContent":["<template>\n<v-container>\n    <MenuBar page=\"FaceSelect\" />\n    <div>\n        <div style=\"font-size:20px;text-align:center;margin-top:30px;\">\n            <div>대화를 요청하시려면</div>\n            <div class=\"d-flex\" style=\"justify-content: center;align-items: center;\">아래 <div id=\"chat-mini\"> <v-icon small style=\"color:white\">mdi-chat</v-icon> </div> 를 눌러주세요! </div>\n        </div>\n    <div id=\"user\">\n        <div id=\"user-img\"><img :src=getProfile(user.profileFilename) style=\"height:260px;width:260px;border-radius:100%;\" /></div>\n        <div id=\"user-info\">\n            <div style=\"display:flex; align-items:center;\">\n                <div style=\"width:220px;\">\n                <div style=\"font-size:21px;\">{{user.nickname}}, {{mydata.age}}세</div>\n                <div style=\"font-size:15px;\"><v-icon small style=\"color:black;\">mdi-map-marker</v-icon>{{mydata.address}}</div>\n                </div>\n                <div id=\"chat\" @click=\"goChat\">\n                    <v-icon style=\"color:white\">mdi-chat</v-icon>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div style=\"text-align:center; margin-top:20px;\">\n        <v-btn text rounded large dark @click=\"displayDetail\" id=\"btn\" >상세정보 보기</v-btn>\n        <v-btn rounded text large dark @click=\"reMatching\" id=\"btn\">다시하기 (-500P)</v-btn>\n    </div>\n</div>\n<v-snackbar v-model=\"alert\" top flat color=\"#f1f3f5\" rounded=\"pill\" :timeout=\"1500\" style=\"margin-top:70px;font-size:20px;\">\n      <span class=\"snackText\">\n        {{message}}\n      </span>\n    </v-snackbar>\n</v-container>\n\n</template>\n\n<script>\nimport dayjs from \"dayjs\";\nimport { useAppStore } from '../../store/userState'\nimport { setUser, loadUser } from '../../worker/user'\nimport MenuBar from \"../MenuBar.vue\";\n\nexport default {\n    components:{\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data(){\n        return{\n            user:{},\n            mydata:{},\n            match:{\n                sender:'',\n                receiver:'',\n                activeFlag:'',\n                createdData:''\n            },\n            alert:false,\n            message:''\n        }\n    },\n    // props:{\n    //     user:{\n    //         type:Object\n    //     }\n    // },\n    methods: {\n        getMydata(){\n            this.$axios\n                .get(`/user/mydata/${this.user.userId}`)\n                .then((response) => {\n                    this.mydata =  response.data\n                })\n                .catch((err) => {\n                    console.log(err.response)\n                });\n        },\n        displayDetail() {\n            this.$router.push({name: 'MatchDetail', params: {user: this.user, mydata : this.mydata}})\n        },\n        reMatching() {\n            this.store.user.userPoint -= 500\n            setUser()\n            this.$router.push(\"/faceSelect\").catch(() => {});\n        },\n        goChat(){\n            this.match.sender=this.store.user.userId\n            this.match.receiver=this.user.userId\n            this.match.activeFlag = '0'\n            this.match.createdDate = dayjs().format(\"YYYYMMDDHHmmss\")\n\n            this.$axios.post(`http://matching.169.56.100.104.nip.io/match/matching/request`, this.match)\n            .then((response)=>{\n                if(response.data){\n                    this.message=\"대화를 요청했습니다.\"\n                }else{\n                    this.message=\"이미 진행중입니다.\"\n                }\n                this.alert=true\n            }).catch((err)=>{\n                console.log(err.response)\n            })\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + i)\n        }\n    },\n    mounted() { \n        this.getMydata()\n    },\n    created(){\n        loadUser(this.$userId)\n        this.user = this.store.faceFinalUser\n    }\n}\n</script>\n\n\n<style scoped>\n#btn{\n    font-size:18px;\n    /* margin-right: 15px; */\n    margin-top: 8px;\n    background: #8452f7;\n    width:88%;\n    height:50px;\n}\n\n#user{\n    border : 2px solid #8452f7;\n    border-radius: 30px;\n    margin : 20px;\n    height : 450px;\n}\n#user-img{\n    height:310px; \n    display:flex;\n    justify-content: center;\n    align-items: center;\n}\n#user-info{\n    /* border : 1px solid; */\n    border-radius: 30px;\n    height:100px;\n    margin:20px 10px 20px 10px;\n    padding:15px;\n    align-items: center;\n    display:flex;\n    background-color:#f3f0ff;\n}\n#chat{\n    width:50px; \n    height:50px; \n    display:flex; \n    align-items:center; \n    justify-content:center; \n    border-radius:100%;\n    background-color:#8452f7;\n    border:none;\n}\n\n#chat-mini{\n    width:30px; \n    height:30px; \n    display:flex; \n    align-items:center; \n    justify-content:center; \n    border-radius:100%;\n    background-color:#8452f7;\n    border:none;\n    margin-right:2px;\n    margin-left:5px;\n}\n</style>\n"]}]}