{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/MindMatching/MindMatchingList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/MindMatching/MindMatchingList.vue","mtime":1660723455655},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSAnLi4vLi4vc3RvcmUvdXNlclN0YXRlJwppbXBvcnQgeyBmZXRjaFVzZXIsIGZldGNoTXlEYXRhLCBsb2FkVXNlciB9IGZyb20gJy4uLy4uL3dvcmtlci91c2VyJzsKaW1wb3J0IHsgc2V0VXNlciB9IGZyb20gJ0Avd29ya2VyL3VzZXInCmltcG9ydCBNZW51QmFyIGZyb20gIi4uL01lbnVCYXIudnVlIjsKaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHMgOiB7CiAgICAgICAgTWVudUJhcgogICAgfSwKICAgIHNldHVwKCl7CiAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VBcHBTdG9yZSgpCiAgICAgICAgcmV0dXJuIHtzdG9yZX0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGE6IDAsCiAgICAgICAgICAgIGI6IDEsCiAgICAgICAgICAgIGZpbmFsVXNlcjogbnVsbCwKICAgICAgICAgICAgZmluYWxNeURhdGE6IG51bGwsCiAgICAgICAgICAgIHJlcG9uc2VzOiBbXSwKICAgICAgICAgICAgbXlEYXRhczogW10sCiAgICAgICAgICAgIHBlb3BsZTogW10sCiAgICAgICAgICAgIG1hdGNoOnsKICAgICAgICAgICAgICAgIHNlbmRlcjonJywKICAgICAgICAgICAgICAgIHJlY2VpdmVyOicnLAogICAgICAgICAgICAgICAgYWN0aXZlRmxhZzonJywKICAgICAgICAgICAgICAgIGNyZWF0ZWREYXRlOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsZXJ0OmZhbHNlLAogICAgICAgICAgICBtZXNzYWdlOicnCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICByZXRyeSgpIHsKICAgICAgICAgICAgdGhpcy5zdG9yZS51c2VyLnVzZXJQb2ludCAtPSA1MDAKICAgICAgICAgICAgc2V0VXNlcigpCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWluZFF1ZXN0aW9uIikuY2F0Y2goKCkgPT4ge30pOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ29EZXRhaWxQYWdlKHVzZXJJZCkgewoKICAgICAgICAgICAgLy8gZmV0Y2ggdXNlciBhbmQgbXlEYXRhIG9iamVjdCBmb3IgZmluYWxVc2VyCiAgICAgICAgICAgIHRoaXMuZmluYWxVc2VyID0gYXdhaXQgZmV0Y2hVc2VyKHVzZXJJZCkKICAgICAgICAgICAgdGhpcy5maW5hbE15RGF0YSA9IGF3YWl0IGZldGNoTXlEYXRhKHVzZXJJZCkKCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnTWF0Y2hEZXRhaWwnLCBwYXJhbXM6IHt1c2VyOiB0aGlzLmZpbmFsVXNlciwgbXlkYXRhIDogdGhpcy5maW5hbE15RGF0YX19KS5jYXRjaCgoKSA9PiB7fSk7CiAgICAgICAgfSwKICAgICAgICBnZXRQcm9maWxlKGkpewogICAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvIiArIHRoaXMucGVvcGxlW2ldLnByb2ZpbGVGaWxlbmFtZSkKICAgICAgICB9LAogICAgICAgIGdvQ2hhdCh1c2VySWQpewogICAgICAgICAgICB0aGlzLm1hdGNoLnNlbmRlcj10aGlzLnN0b3JlLnVzZXIudXNlcklkCiAgICAgICAgICAgIHRoaXMubWF0Y2gucmVjZWl2ZXI9dXNlcklkCiAgICAgICAgICAgIHRoaXMubWF0Y2guYWN0aXZlRmxhZyA9ICcwJwogICAgICAgICAgICB0aGlzLm1hdGNoLmNyZWF0ZWREYXRlID0gZGF5anMoKS5mb3JtYXQoIllZWVlNTURESEhtbXNzIikKICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdChgaHR0cDovL21hdGNoaW5nLjE2OS41Ni4xMDAuMTA0Lm5pcC5pby9tYXRjaC9tYXRjaGluZy9yZXF1ZXN0YCwgdGhpcy5tYXRjaCkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlPSLrjIDtmZTrpbwg7JqU7LKt7ZaI7Iq164uI64ukLiIKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZT0i7J2066+4IOynhO2WieykkeyeheuLiOuLpC4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0PXRydWUKICAgICAgICAgICAgfSkuY2F0Y2goKGVycik9PnsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSkKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgYmVmb3JlTW91bnQoKSB7CiAgICAgICAgdGhpcy5wZW9wbGUgPSBhd2FpdCB0aGlzLnN0b3JlLmFpUmVzdWx0ICAgIC8vIGFzc2lnbiByZXBvbnNlIHRvIHBlb3BsZSBhcnJheQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICBsb2FkVXNlcih0aGlzLiR1c2VySWQpCiAgICB9Cn0K"},{"version":3,"sources":["MindMatchingList.vue"],"names":[],"mappings":";AA8CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MindMatchingList.vue","sourceRoot":"src/components/MindMatching","sourcesContent":["<template>\n    <div>\n        <MenuBar page=\"MindQuestion\" />\n        \n        <div v-if=\"people.length != 0\" fluid style=\"margin-top: 30px;\">\n            <v-row dense id=\"main\">\n                <v-col v-for=\"(person, index) in people.slice(0,1)\" :key=\"index\" cols=\"12\" xs=\"12\">\n                    <v-card id=\"mainCard\">\n                        <div id=\"percentLabel\" style=\"background-color: #b197fc;\" >{{ person.fitPercent }}% 매칭</div>\n                        <div style=\"display:flex;width:100%;padding-left:20px;\">\n                            <div style=\"width:60%\"><img id=\"topImage\" :src=\"getProfile(index)\" @click=\"goDetailPage(person.userId)\"/></div>\n                            <div style=\"width:40%; display:flex; justify-content: center; align-items: center;\">\n                            <v-col>\n                                <v-btn rounded large style=\"font-size:17px;\" @click=\"goDetailPage(person.userId)\">상세정보</v-btn>\n                                <v-btn rounded large style=\"margin-top:20px; font-size:17px;\" @click=\"goChat(person.userId)\">대화요청</v-btn>\n                            </v-col>\n                            </div>\n                        </div>\n                        <div style=\"display:flex; align-items:center;\"><v-icon large color=\"#f8d459\" class=\"mr-2\">mdi-crown</v-icon><span style=\"font-size:25px;font-weight:bold;\"> {{person.nickname}} </span><v-icon large color=\"#f8d459\" class=\"ml-2\">mdi-crown</v-icon></div>\n                    </v-card>\n                </v-col>\n            </v-row>\n           \n            <v-row dense id=\"sub\">\n            <v-col v-for=\"(person, index) in people.slice(1)\" :key=\"index\" cols=\"6\" xs=\"6\">\n                <v-card id=\"subCard\">\n                <div id=\"percentLabel\" style=\"background-color: #b197fc; \">{{ person.fitPercent }}% 매칭</div>\n                <img id=\"bottomImages\" :src=\"getProfile(index+1)\" @click=\"goDetailPage(person.userId)\"/>\n                <div rounded id=\"nameLabel\">{{person.nickname}}</div>\n                </v-card>\n            </v-col>\n            </v-row>\n        </div>\n        \n        <div style=\"text-align: center; margin-bottom:20px;\"> \n            <v-btn text dark rounded id=\"retryBtn\" @click=\"retry\">다시하기 (-500P)</v-btn>\n        </div>\n        <v-snackbar v-model=\"alert\" top flat color=\"#f1f3f5\" rounded=\"pill\" :timeout=\"1500\" style=\"margin-top:70px;font-size:20px;\">\n        <span class=\"snackText\">\n            {{message}}\n        </span>\n        </v-snackbar>\n    </div>\n</template>\n\n<script>\nimport { useAppStore } from '../../store/userState'\nimport { fetchUser, fetchMyData, loadUser } from '../../worker/user';\nimport { setUser } from '@/worker/user'\nimport MenuBar from \"../MenuBar.vue\";\nimport dayjs from \"dayjs\";\n\nexport default {\n    components : {\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data() {\n        return {\n            a: 0,\n            b: 1,\n            finalUser: null,\n            finalMyData: null,\n            reponses: [],\n            myDatas: [],\n            people: [],\n            match:{\n                sender:'',\n                receiver:'',\n                activeFlag:'',\n                createdDate:''\n            },\n            alert:false,\n            message:''\n        }\n    },\n    methods: {\n        retry() {\n            this.store.user.userPoint -= 500\n            setUser()\n            this.$router.push(\"/mindQuestion\").catch(() => {});\n        },\n        async goDetailPage(userId) {\n\n            // fetch user and myData object for finalUser\n            this.finalUser = await fetchUser(userId)\n            this.finalMyData = await fetchMyData(userId)\n\n            this.$router.push({name: 'MatchDetail', params: {user: this.finalUser, mydata : this.finalMyData}}).catch(() => {});\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + this.people[i].profileFilename)\n        },\n        goChat(userId){\n            this.match.sender=this.store.user.userId\n            this.match.receiver=userId\n            this.match.activeFlag = '0'\n            this.match.createdDate = dayjs().format(\"YYYYMMDDHHmmss\")\n            this.$axios.post(`http://matching.169.56.100.104.nip.io/match/matching/request`, this.match)\n            .then((response)=>{\n                if(response.data){\n                    this.message=\"대화를 요청했습니다.\"\n                }else{\n                    this.message=\"이미 진행중입니다.\"\n                }\n                this.alert=true\n            }).catch((err)=>{\n                console.log(err.response)\n            })\n        }\n    },\n    async beforeMount() {\n        this.people = await this.store.aiResult    // assign reponse to people array\n    },\n    created(){\n        loadUser(this.$userId)\n    }\n}\n</script>\n\n\n<style scoped>\n\n#main{\n  margin : 10px;\n  display : flex;\n  align-items:center;\n}\n#sub{\n  margin : 10px;\n  display : flex;\n  align-items:center;\n}\n\n#mainCard {\n    display:flex;\n    justify-content:center;\n    align-items: center;\n    flex-direction: column;\n    color: white;\n    height: 300px;\n    border-radius: 20px;\n    border:2px solid #b197fc; \n}\n\n#subCard {\n    display:flex;\n    justify-content:center;\n    align-items: center;\n    flex-direction: column;\n    color: white;\n    height: 250px;\n    border-radius: 20px;\n    margin-bottom: 20px;\n    border:2px solid #b197fc; \n}\n\n#percentLabel {\n    width: 85%;\n    height:30px;\n    display: flex;\n    align-items: center;\n    justify-content:center; \n    transform: translateY(-50%);\n    border-radius: 0 0 20px 20px;\n    color: white;\n    font-size:20px;\n}\n\n#retryBtn {\n    /* display : flex;\n    align-items:center; */\n    /* margin-top: 50px; */\n    background-color: #7950f2;\n    height:50px;\n    font-size:18px;\n}\n\n#box-user {\n    background-color: #C4C4C4;\n}   \n\n#topImage {\n    height: 195px;\n    width: 195px;\n    object-fit: cover;\n    border-radius: 100%;\n    /* margin-bottom: 10px; */\n}\n\n#bottomImages {\n    height: 150px;\n    width: 150px;\n    object-fit: cover;\n    border-radius: 100%;\n    margin-bottom: 10px;\n}\n\n#nameLabel {\n    /* color: white;\n    background-color: #7950f2; */\n    width: 95%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    font-weight:bold;\n}\n\n\n</style>"]}]}