{"remainingRequest":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiwon/test/matching-frontend/src/components/FaceMatching/FaceSelect.vue","mtime":1660723455654},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/babel-loader/lib/index.js","mtime":1652941041233},{"path":"/Users/jiwon/test/matching-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1660264744188},{"path":"/Users/jiwon/test/matching-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1660264748190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVzZUFwcFN0b3JlIH0gZnJvbSAnQC9zdG9yZS91c2VyU3RhdGUnCmltcG9ydCBNZW51QmFyIGZyb20gIi4uL01lbnVCYXIudnVlIjsKaW1wb3J0IHsgbG9hZEZhY2VGaW5hbFVzZXIsIGxvYWRNeWRhdGEsIGxvYWRVc2VyIH0gZnJvbSAnQC93b3JrZXIvdXNlcicKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6ewogICAgICAgIE1lbnVCYXIKICAgIH0sCiAgICBzZXR1cCgpewogICAgICAgIGNvbnN0IHN0b3JlID0gdXNlQXBwU3RvcmUoKQogICAgICAgIHJldHVybiB7c3RvcmV9CiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgbXlEYXRhRmxhZyA6IGZhbHNlLAogICAgICAgICAgICAvLyBhbGVydDogZmFsc2UsCiAgICAgICAgICAgIGJ0blRleHQgOiAi64uk7J2MIiwKICAgICAgICAgICAgc3RhZ2UgOiA4LAogICAgICAgICAgICByb3VuZCA6IDAsCiAgICAgICAgICAgIGlzVG9wIDogZmFsc2UsCiAgICAgICAgICAgIGlzQm90dG9tIDogZmFsc2UsCiAgICAgICAgICAgIHVzZXJzIDogW10sCiAgICAgICAgICAgIHNhdmUgOiBbMCwxLDIsMyw0LDUsNiw3XQogICAgICAgIH0KICAgIH0sCiAgICAKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWxlY3RUKCkgewogICAgICAgICAgICB0aGlzLmlzVG9wID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5pc0JvdHRvbSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2hlY2soKXsKICAgICAgICAgICAgaWYoIXRoaXMuaXNUb3AgJiYgIXRoaXMuaXNCb3R0b20pIHJldHVybiB0cnVlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgc2VsZWN0QigpIHsKICAgICAgICAgICAgdGhpcy5pc1RvcCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzQm90dG9tID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGdvTmV4dCgpIHsKICAgICAgICAgICAgaWYoIXRoaXMuaXNUb3AgJiYgIXRoaXMuaXNCb3R0b20pewogICAgICAgICAgICAgICAgLy8gdGhpcy5hbGVydCA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHRoaXMuaXNUb3ApeyAvLyDsnITsl5Ag7ISg7YOd7ZWY66m0CiAgICAgICAgICAgICAgICB0aGlzLnNhdmUucHVzaCh0aGlzLnNhdmVbdGhpcy5yb3VuZF0pCiAgICAgICAgICAgIH1lbHNleyAvLyDslYTrnpgg7ISg7YOd7ZWY66m0CiAgICAgICAgICAgICAgICB0aGlzLnNhdmUucHVzaCh0aGlzLnNhdmVbdGhpcy5yb3VuZCsxXSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5yb3VuZCArPSAyCiAgICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLnJvdW5kID49dGhpcy5zdGFnZSl7CiAgICAgICAgICAgICAgICB0aGlzLnJvdW5kID0gMAogICAgICAgICAgICAgICAgdGhpcy5zYXZlID0gdGhpcy5zYXZlLnNsaWNlKHRoaXMuc3RhZ2UpCiAgICAgICAgICAgICAgICB0aGlzLnN0YWdlID0gdGhpcy5zdGFnZSAvIDIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYodGhpcy5yb3VuZCsyID49IHRoaXMuc3RhZ2UpewogICAgICAgICAgICAgICAgdGhpcy5idG5UZXh0ID0gIuuLpOydjCDrnbzsmrTrk5wiCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5idG5UZXh0ID0gIuuLpOydjCIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5pc1RvcCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuaXNCb3R0b20gPSBmYWxzZQoKICAgICAgICAgICAgaWYodGhpcy5zdGFnZSA9PSAyKXsKICAgICAgICAgICAgICAgIHRoaXMuYnRuVGV4dCA9ICLqsrDqs7zrs7TquLAiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHRoaXMuc3RhZ2UgPT0gMSl7IC8vIOyDgeyEuCDtjpjsnbTsp4DroZwg7ZmU66m0IOydtOuPmQogICAgICAgICAgICAgICAgbGV0IGZpbmFsVXNlciA9IHRoaXMudXNlcnNbdGhpcy5zYXZlWzBdXQogICAgICAgICAgICAgICAgbG9hZEZhY2VGaW5hbFVzZXIoZmluYWxVc2VyKQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdG9yZS5mYWNlRmluYWxVc2VyKQogICAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdGYWNlRmluYWwnLCBwYXJhbXM6IHt1c2VyOiBmaW5hbFVzZXJ9fSkKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnRmFjZUZpbmFsJ30pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdldFByb2ZpbGUoaSl7CiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy8iICsgdGhpcy51c2Vyc1tpXS5wcm9maWxlRmlsZW5hbWUpCiAgICAgICAgfSwKICAgICAgICBzZXRJZHgoKXsKICAgICAgICAgICAgdGhpcy51c2VycyA9IHRoaXMudXNlcnMubWFwKCh1c2VyLCBpZHgpID0+ICh7CiAgICAgICAgICAgICAgICAuLi51c2VyLCAKICAgICAgICAgICAgICAgIGlkeCwKICAgICAgICAgICAgfSkpCiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRSYW5kb20oKXsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYGh0dHA6Ly9tYXRjaGluZy4xNjkuNTYuMTAwLjEwNC5uaXAuaW8vbWF0Y2gvdXNlci9maW5kUmFuZG9tLyR7dGhpcy5zdG9yZS5teURhdGEuZ2VuZGVyfWApIC8vICR7dGhpcy5zdG9yZS5teURhdGEuZ2VuZGVyfSEhISEhCiAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIHRoaXMuc2V0SWR4KCkKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgY3JlYXRlZCgpewogICAgICAgIGF3YWl0IGxvYWRVc2VyKHRoaXMuJHVzZXJJZCkKICAgICAgICBhd2FpdCBsb2FkTXlkYXRhKHRoaXMuJHVzZXJJZCkKICAgICAgICBhd2FpdCB0aGlzLmdldFJhbmRvbSgpCiAgICB9Cn0K"},{"version":3,"sources":["FaceSelect.vue"],"names":[],"mappings":";AA0BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FaceSelect.vue","sourceRoot":"src/components/FaceMatching","sourcesContent":["<template>\n<v-container v-if=\"users.length\">\n<MenuBar page=\"FaceSelect\" />\n<div style=\"text-align:center;\">\n    <div id = \"title\">\n        <h1 v-if=\"stage==2\">결승</h1>\n        <h1 v-else>{{stage}} 강전</h1>\n        <span style=\"font-size:22px;\">마음이 가는 사용자를 선택해주세요!</span>\n    </div>\n    <div id = \"face-img\">\n    \n        <img :src=\"getProfile(this.save[this.round])\" @click=\"selectT\" :class=\"{'selected':isTop, 'no-selected':!isTop}\" />\n        <p style=\"font-size:30px;font-weight:bold\">VS</p>\n        <img :src=\"getProfile(this.save[this.round+1])\" @click=\"selectB\" :class=\"{'selected':isBottom, 'no-selected':!isBottom}\"/>\n    </div> \n    <v-btn id=\"nextBtn\" rounded text large dark @click=\"goNext\" :disabled=check()>{{this.btnText}}</v-btn>\n    <!-- <v-snackbar v-model=\"alert\" Bottom flat color=\"black\" rounded=\"pill\" :timeout=\"1500\">\n      <span class=\"snackText\">\n        한명을 선택해주세요\n      </span>\n    </v-snackbar> -->\n</div>\n</v-container>\n</template>\n\n<script>\nimport { useAppStore } from '@/store/userState'\nimport MenuBar from \"../MenuBar.vue\";\nimport { loadFaceFinalUser, loadMydata, loadUser } from '@/worker/user'\n\nexport default {\n    components:{\n        MenuBar\n    },\n    setup(){\n        const store = useAppStore()\n        return {store}\n    },\n    data(){\n        return{\n            myDataFlag : false,\n            // alert: false,\n            btnText : \"다음\",\n            stage : 8,\n            round : 0,\n            isTop : false,\n            isBottom : false,\n            users : [],\n            save : [0,1,2,3,4,5,6,7]\n        }\n    },\n    \n    methods: {\n        selectT() {\n            this.isTop = true;\n            this.isBottom = false;\n        },\n        check(){\n            if(!this.isTop && !this.isBottom) return true\n            return false\n        },\n        selectB() {\n            this.isTop = false;\n            this.isBottom = true;\n        },\n        goNext() {\n            if(!this.isTop && !this.isBottom){\n                // this.alert = true;\n                return;\n            }\n            \n            if(this.isTop){ // 위에 선택하면\n                this.save.push(this.save[this.round])\n            }else{ // 아래 선택하면\n                this.save.push(this.save[this.round+1])\n            }\n\n            this.round += 2\n            \n            if(this.round >=this.stage){\n                this.round = 0\n                this.save = this.save.slice(this.stage)\n                this.stage = this.stage / 2\n            }\n\n            if(this.round+2 >= this.stage){\n                this.btnText = \"다음 라운드\"\n            }else{\n                this.btnText = \"다음\"\n            }\n\n            this.isTop = false\n            this.isBottom = false\n\n            if(this.stage == 2){\n                this.btnText = \"결과보기\"\n            }\n\n            if(this.stage == 1){ // 상세 페이지로 화면 이동\n                let finalUser = this.users[this.save[0]]\n                loadFaceFinalUser(finalUser)\n                // console.log(this.store.faceFinalUser)\n                // this.$router.push({name: 'FaceFinal', params: {user: finalUser}})\n                this.$router.push({name: 'FaceFinal'})\n            }\n        },\n        getProfile(i){\n            return require(\"@/assets/\" + this.users[i].profileFilename)\n        },\n        setIdx(){\n            this.users = this.users.map((user, idx) => ({\n                ...user, \n                idx,\n            }))\n        },\n        async getRandom(){\n            const response = await this.$axios.get(`http://matching.169.56.100.104.nip.io/match/user/findRandom/${this.store.myData.gender}`) // ${this.store.myData.gender}!!!!!\n            this.users = response.data\n            this.setIdx()\n        }\n    },\n    async created(){\n        await loadUser(this.$userId)\n        await loadMydata(this.$userId)\n        await this.getRandom()\n    }\n}\n</script>\n\n\n<style scoped>\nh1{\n    font-size:50px;\n}\n#title{\n    text-align:center;\n    margin-top:10px;\n}\n\n#face-img{\n    text-align:center;\n    margin : 30px;\n    object-fit:cover;\n}\n\n#nextBtn{\n    background-color:#8452f7;\n    width:70%;\n    font-size:24px;\n}\n\nimg {\n    width:200px;\n    height:200px;\n    border: 5px solid #f3f0ff;\n    border-radius: 50%;\n     /* filter: brightness(50%); */\n     /* opacity:0.2; */\n}\n\n.selected{\nborder: 5px solid #8452f7;\n}\n\n.no-selected{\nborder: 5px solid #f3f0ff;\n}\n</style>\n"]}]}